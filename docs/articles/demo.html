<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Step Regression Demo • StepRegression</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Step Regression Demo">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">StepRegression</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/demo.html">Step Regression Demo</a>
    </li>
    <li>
      <a href="../articles/yearly_report_analysis.html">How Important are Yearly Reports?</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Step Regression Demo</h1>
            
      
      
      <div class="hidden name"><code>demo.Rmd</code></div>

    </div>

    
    
<div id="step-regression" class="section level2">
<h2 class="hasAnchor">
<a href="#step-regression" class="anchor"></a>Step Regression</h2>
<p>This package is designed to show how adding successive predictors to a regression modifies the residuals and mean-squared error. It is not meant as a replacement for the standard lm(y ~ x1, x2, x3) function, but instead a supplement. This package helps one show how regressions work, and how each successive variable in the design matrix helps explain the response vector. In this spirit, the focus is on how the residuals change with each successive variable added to a regression.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(StepRegression)</a></code></pre></div>
</div>
<div id="example-one-mtcars" class="section level2">
<h2 class="hasAnchor">
<a href="#example-one-mtcars" class="anchor"></a>Example One: mtcars</h2>
<p>Let us take one of the most commonly used built-in datasets in R: mtcars. First, we’ll asign mpg to our response vector y, and the remaining columns to a design matrix x. Then, we’ll call our step_regression function, and plug the results into res_plotter_double() with addIntercept = TRUE.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(mtcars)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(mtcars)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></a></code></pre></div>
</div>
<div id="order-and-sse" class="section level1">
<h1 class="hasAnchor">
<a href="#order-and-sse" class="anchor"></a>Order and SSE</h1>
<p>By default, the columns of the residuals matrix are ordered so that the intercept is in the first column, and the most significant variables come first. In this case, significance is determined by which columns give the lowest SSE in predicting the response vector when alone. This does not, however, mean that they will be significant when applied alongside other variables.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">y&lt;-mtcars<span class="op">$</span>mpg</a>
<a class="sourceLine" id="cb3-2" title="2">x&lt;-mtcars[,<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb3-3" title="3">res&lt;-StepRegression<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/StepRegression/man/step_regression.html">step_regression</a></span>(x,y,<span class="dt">addIntercept=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(res))</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt;   Intercept         wt        cyl       disp          hp       drat         vs</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; 1  0.909375 -2.2826106 -1.2791447 -1.0682107 -1.56804806 -1.7882906 -1.5716758</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; 2  0.909375 -0.9197704 -0.4654468 -0.1411131 -0.58530266 -0.8516024 -0.6222790</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; 3  2.709375 -2.0859521 -3.4520262 -3.5402088 -3.25685052 -3.0233543 -3.0413038</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; 4  1.309375  1.2973499  1.0194838  0.7626704 -0.01170091  0.3671066  0.1549594</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; 5 -1.390625 -0.2001440  2.0530424  1.6883465  0.89393888  0.9425997  0.9342947</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt; 6 -1.990625 -0.6932545 -1.4987281 -1.3999822 -2.08741154 -1.4405269 -1.5998659</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt;             am       carb       gear       qsec</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt; 1 -2.021409597 -1.7271857 -1.5447253 -1.5995058</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt; 2 -1.193854946 -1.0173239 -0.8724935 -1.1118861</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt; 3 -3.659614260 -3.9539695 -3.9116067 -3.4506441</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt; 4 -0.008373284  0.1261956  0.1460422  0.1625955</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt; 5  1.256741572  1.2990576  1.2797136  1.0065660</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">#&gt; 6 -2.045050275 -2.0918728 -2.1471796 -2.2830390</span></a></code></pre></div>
</div>
<div id="res_plotter-and-res_plotter_double" class="section level1">
<h1 class="hasAnchor">
<a href="#res_plotter-and-res_plotter_double" class="anchor"></a>res_plotter() and res_plotter_double()</h1>
<p>There are two built-in plotting functions for this package: res_plotter() and res_plotter_double(). They both create residuals vs values sub-plots for each variable, with each corner containing the SSE after each variable is added to the regression, and the percent by which each variable reduced the SSE. The only difference between the two functions is that res_plotter_double has two columns of plots.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="../reference/res_plotter_double.html">res_plotter_double</a></span>(res,y,<span class="dt">main=</span><span class="st">"Residuals v MPG for Various Factors"</span>)</a></code></pre></div>
<p><img src="demo_files/figure-html/mtcars_visual-1.png" width="768"></p>
</div>
<div id="utility" class="section level1">
<h1 class="hasAnchor">
<a href="#utility" class="anchor"></a>Utility</h1>
<p>This function has two main uses. First, it helps identify which variables to include in a multivariate regression. Looking at the mtcars visual, it is interesting to note that several variables that seemed important when examined in isolation are found to do little to improve the SSE when others are included as well. The “disp” (displacement), “drat” (rear axle ratio), “vs” (v-shape vs inline), “carb” (number of carburetors) and “gear” all turned out to be less important than they initially seemed, while the opposite could be said for “hp” (horsepower), “am” (manual vs automatic), and “qsec” (quarter mile time).</p>
<p>The second use is helping to understand how regressions work. Rather than regress all of the variables together, step_regression regresses each out of y and the remaining x variables. Each step is essentially applying regression to the residuals leftover.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(swiss)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(swiss)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt;              Fertility Agriculture Examination Education Catholic</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; Courtelary        80.2        17.0          15        12     9.96</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; Delemont          83.1        45.1           6         9    84.84</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; Franches-Mnt      92.5        39.7           5         5    93.40</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; Moutier           85.8        36.5          12         7    33.77</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; Neuveville        76.9        43.5          17        15     5.16</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; Porrentruy        76.1        35.3           9         7    90.57</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt;              Infant.Mortality</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">#&gt; Courtelary               22.2</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt; Delemont                 22.2</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt; Franches-Mnt             20.2</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt; Moutier                  20.3</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">#&gt; Neuveville               20.6</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="co">#&gt; Porrentruy               26.6</span></a></code></pre></div>
</div>
<div id="swiss-example-res_plotter" class="section level1">
<h1 class="hasAnchor">
<a href="#swiss-example-res_plotter" class="anchor"></a>Swiss Example &amp; res_plotter()</h1>
<p>Here is a second example, this time using the Swiss dataset with the res_plotter function. Here, we are excluding “Infant.Mortality” as it does not seem an appropriate predictor of fertility. The information conveyed by res_plotter() is essentially the same as res_plotter_double(), albeit with just one column. One can once again see that the importance of variables changes when others are included–in this case the “examination” and “agriculture” have switches places of importance.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">y&lt;-swiss<span class="op">$</span>Fertility</a>
<a class="sourceLine" id="cb6-2" title="2">x&lt;-swiss[,<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">1</span>,<span class="op">-</span><span class="dv">6</span>)]</a>
<a class="sourceLine" id="cb6-3" title="3">res&lt;-<span class="kw"><a href="../reference/step_regression.html">step_regression</a></span>(x,y,<span class="dt">addIntercept=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw"><a href="../reference/res_plotter.html">res_plotter</a></span>(res,y,<span class="dt">main=</span><span class="st">"Residuals of Fertility by Various Factors"</span>)</a></code></pre></div>
<p><img src="demo_files/figure-html/swiss_example-1.png" width="768"></p>
</div>
<div id="under-the-hood-using-mtcars-dataset" class="section level1">
<h1 class="hasAnchor">
<a href="#under-the-hood-using-mtcars-dataset" class="anchor"></a>Under the Hood using mtcars dataset</h1>
<p>As mentiond above, this package works by regressing one variable out at a time from the response vector and all other variables in the design matrix. For each variable except the last, the function is essentially doing two regressions: the first on y, and the second on the other x variables. Then, the residuals for both y and the remaining x variables are calculated, and the function is then repeated, regressing one variable out at a time until none remain.</p>
<p>Below I’ve included a proof, checking each step with the lm() function. To avoid too much repetition, several variables will be regressed at once. For the first step, I’ve performed a regression on all of the variables in mtcars–one using linear algebra and the second using lm(). The second does two: the y-intercept and “cyl” column. Notice that while the coefficients match those for the lm() function, neither of these match the first multivariate regression performed. While doing a regression in steps like this can be useful for examining the work each variable is doing to explain y, getting correct coefficients for all of the variables would require doing all of the variables at once.</p>
<p>In each step though, whether regressing out 2, 6, 1, or any number of variables, the coefficients are the same (with room for floating point errors) as when one uses the lm() function to do the entire regression at once. However, results will vary between two different uses of stepRegression if one regresses the variables in different orders or different groups. A stepwise regression is more a tool for examining residuals than coefficients.</p>
<div id="example-1-regress-using-all-independent-variables-at-once" class="section level2">
<h2 class="hasAnchor">
<a href="#example-1-regress-using-all-independent-variables-at-once" class="anchor"></a>EXAMPLE 1: Regress using all independent variables at once</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(mtcars)</a>
<a class="sourceLine" id="cb7-2" title="2">y &lt;-<span class="st"> </span>mtcars<span class="op">$</span>mpg</a>
<a class="sourceLine" id="cb7-3" title="3">x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(<span class="dv">1</span>,mtcars[,<span class="op">-</span><span class="dv">1</span>]))</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(x)[<span class="dv">1</span>]&lt;-<span class="st">"Intercept"</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Linear Algebra Result"</span>)</a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; [1] "Linear Algebra Result"</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(x) <span class="op">%*%</span><span class="st"> </span>x) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(x) <span class="op">%*%</span><span class="st"> </span>y))</a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt;      Intercept        cyl       disp          hp     drat        wt      qsec</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">#&gt; [1,]  12.30337 -0.1114405 0.01333524 -0.02148212 0.787111 -3.715304 0.8210407</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">#&gt;             vs       am     gear       carb</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="co">#&gt; [1,] 0.3177628 2.520227 0.655413 -0.1994193</span></a>
<a class="sourceLine" id="cb7-12" title="12">x &lt;-<span class="st"> </span>x[,<span class="op">-</span><span class="dv">1</span>] <span class="co">#removing the intercept variable, as lm will add its own</span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">''</span>)</a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Builtin lm Function Result"</span>)</a>
<a class="sourceLine" id="cb7-16" title="16"><span class="co">#&gt; [1] "Builtin lm Function Result"</span></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span> (y <span class="op">~</span><span class="st"> </span>x)<span class="op">$</span>coefficients)</a>
<a class="sourceLine" id="cb7-18" title="18"><span class="co">#&gt; (Intercept)        xcyl       xdisp         xhp       xdrat         xwt </span></a>
<a class="sourceLine" id="cb7-19" title="19"><span class="co">#&gt; 12.30337416 -0.11144048  0.01333524 -0.02148212  0.78711097 -3.71530393 </span></a>
<a class="sourceLine" id="cb7-20" title="20"><span class="co">#&gt;       xqsec         xvs         xam       xgear       xcarb </span></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="co">#&gt;  0.82104075  0.31776281  2.52022689  0.65541302 -0.19941925</span></a>
<a class="sourceLine" id="cb7-22" title="22">x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>),x); <span class="kw"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(x)[<span class="dv">1</span>] &lt;-<span class="st"> "Intercept"</span></a></code></pre></div>
</div>
<div id="example-2-regress-two-variables-twice-all-but-the-last-then-the-last-variable" class="section level2">
<h2 class="hasAnchor">
<a href="#example-2-regress-two-variables-twice-all-but-the-last-then-the-last-variable" class="anchor"></a>EXAMPLE 2: Regress two variables twice, all but the last, then the last variable</h2>
<div id="regress-intercept-and-number-of-cylinders" class="section level3">
<h3 class="hasAnchor">
<a href="#regress-intercept-and-number-of-cylinders" class="anchor"></a>Regress intercept and number of cylinders</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">solveY &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Linear Algebra Result"</span>)</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt; [1] "Linear Algebra Result"</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(solveY)</a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt;      Intercept      cyl</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt; [1,]  37.88458 -2.87579</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">""</span>)</a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Builtin lm Function Result"</span>)</a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">#&gt; [1] "Builtin lm Function Result"</span></a>
<a class="sourceLine" id="cb8-11" title="11">xTemp &lt;-<span class="st"> </span>x[,<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb8-12" title="12"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(y <span class="op">~</span><span class="st"> </span>xTemp)<span class="op">$</span>coefficients)</a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co">#&gt; (Intercept)       xTemp </span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="co">#&gt;    37.88458    -2.87579</span></a></code></pre></div>
</div>
<div id="looking-at-results-of-regressing-intercept-and-cylinders-out-of-the-other-independent-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#looking-at-results-of-regressing-intercept-and-cylinders-out-of-the-other-independent-variables" class="anchor"></a>Looking at results of regressing Intercept and Cylinders out of the other independent variables</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">solveX &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>x[,<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(x)]</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Linear Algebra Result"</span>)</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#&gt; [1] "Linear Algebra Result"</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(solveX)</a>
<a class="sourceLine" id="cb9-5" title="5"><span class="co">#&gt;                 disp        hp       drat        wt       qsec         vs</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co">#&gt; Intercept -156.60898 -51.05436  4.8931606 0.5646195 21.5091530  1.8533502</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; cyl         62.59893  31.95828 -0.2095512 0.4287080 -0.5915803 -0.2288243</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt;                   am       gear       carb</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#&gt; Intercept  1.3097345  4.9469027 -0.1365360</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co">#&gt; cyl       -0.1460177 -0.2035398  0.4766119</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">''</span>)</a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Checking with builtin regression function"</span>)</a>
<a class="sourceLine" id="cb9-14" title="14"><span class="co">#&gt; [1] "Checking with builtin regression function"</span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span> (x[,<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(x)] <span class="op">~</span><span class="st"> </span>x[,<span class="dv">2</span>])<span class="op">$</span>coefficients)</a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co">#&gt;                   disp        hp       drat        wt       qsec         vs</span></a>
<a class="sourceLine" id="cb9-17" title="17"><span class="co">#&gt; (Intercept) -156.60898 -51.05436  4.8931606 0.5646195 21.5091530  1.8533502</span></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">#&gt; x[, 2]        62.59893  31.95828 -0.2095512 0.4287080 -0.5915803 -0.2288243</span></a>
<a class="sourceLine" id="cb9-19" title="19"><span class="co">#&gt;                     am       gear       carb</span></a>
<a class="sourceLine" id="cb9-20" title="20"><span class="co">#&gt; (Intercept)  1.3097345  4.9469027 -0.1365360</span></a>
<a class="sourceLine" id="cb9-21" title="21"><span class="co">#&gt; x[, 2]      -0.1460177 -0.2035398  0.4766119</span></a></code></pre></div>
</div>
<div id="regress-displacement-and-horsepower" class="section level3">
<h3 class="hasAnchor">
<a href="#regress-displacement-and-horsepower" class="anchor"></a>Regress displacement and horsepower</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">yError &lt;-<span class="st"> </span>y <span class="op">-</span><span class="st"> </span>x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="op">%*%</span><span class="st"> </span>solveY</a>
<a class="sourceLine" id="cb10-2" title="2">xError &lt;-<span class="st"> </span>x[,<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(x)] <span class="op">-</span><span class="st"> </span>x[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="op">%*%</span><span class="st"> </span>solveX</a></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">solveY &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>yError</a>
<a class="sourceLine" id="cb11-2" title="2">solveX &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(xError)]</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Linear Algebra Result"</span>)</a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt; [1] "Linear Algebra Result"</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(solveY))</a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">#&gt;             disp          hp</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt; [1,] -0.01883809 -0.01467933</span></a>
<a class="sourceLine" id="cb11-8" title="8">x0 &lt;-<span class="st"> </span>x[,<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>]</a>
<a class="sourceLine" id="cb11-9" title="9"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">""</span>)</a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Builtin lm Function Result"</span>)</a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co">#&gt; [1] "Builtin lm Function Result"</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(y <span class="op">~</span><span class="st"> </span>x0)<span class="op">$</span>coefficients[<span class="dv">3</span><span class="op">:</span><span class="dv">4</span>])</a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">#&gt;      x0disp        x0hp </span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt; -0.01883809 -0.01467933</span></a></code></pre></div>
</div>
<div id="regress-rear-axle-ratio-weight-quarter-mile-time-engine-type-transmission-and-number-of-forward-gears" class="section level3">
<h3 class="hasAnchor">
<a href="#regress-rear-axle-ratio-weight-quarter-mile-time-engine-type-transmission-and-number-of-forward-gears" class="anchor"></a>Regress rear axle ratio, weight, quarter-mile time, engine type, transmission, and number of forward gears</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">yError &lt;-<span class="st"> </span>yError <span class="op">-</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="op">%*%</span><span class="st"> </span>solveY</a>
<a class="sourceLine" id="cb12-2" title="2">xError &lt;-<span class="st"> </span>xError[,<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(xError)] <span class="op">-</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="op">%*%</span><span class="st"> </span>solveX</a></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">solveY &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]) <span class="op">%*%</span><span class="st"> </span>yError</a>
<a class="sourceLine" id="cb13-2" title="2">solveX &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">7</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(xError)]</a>
<a class="sourceLine" id="cb13-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Linear Algebra Result"</span>)</a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">#&gt; [1] "Linear Algebra Result"</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(solveY))</a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt;           drat        wt      qsec        vs       am      gear</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">#&gt; [1,] 0.7059008 -4.032142 0.8682852 0.3647043 2.550928 0.5029362</span></a>
<a class="sourceLine" id="cb13-8" title="8">x0 &lt;-<span class="st"> </span>x[,<span class="dv">2</span><span class="op">:</span><span class="dv">10</span>]</a>
<a class="sourceLine" id="cb13-9" title="9"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">""</span>)</a>
<a class="sourceLine" id="cb13-10" title="10"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb13-11" title="11"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Builtin lm Function Result"</span>)</a>
<a class="sourceLine" id="cb13-12" title="12"><span class="co">#&gt; [1] "Builtin lm Function Result"</span></a>
<a class="sourceLine" id="cb13-13" title="13"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(y <span class="op">~</span><span class="st"> </span>x0)<span class="op">$</span>coefficients[<span class="dv">5</span><span class="op">:</span><span class="dv">10</span>])</a>
<a class="sourceLine" id="cb13-14" title="14"><span class="co">#&gt;     x0drat       x0wt     x0qsec       x0vs       x0am     x0gear </span></a>
<a class="sourceLine" id="cb13-15" title="15"><span class="co">#&gt;  0.7059008 -4.0321421  0.8682852  0.3647043  2.5509285  0.5029362</span></a></code></pre></div>
</div>
<div id="regress-number-of-carburetors" class="section level3">
<h3 class="hasAnchor">
<a href="#regress-number-of-carburetors" class="anchor"></a>Regress number of carburetors</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">yError &lt;-<span class="st"> </span>yError <span class="op">-</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>] <span class="op">%*%</span><span class="st"> </span>solveY</a>
<a class="sourceLine" id="cb14-2" title="2">xError &lt;-<span class="st"> </span>xError[,<span class="dv">7</span><span class="op">:</span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span>(xError)] <span class="op">-</span><span class="st"> </span>xError[,<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>] <span class="op">%*%</span><span class="st"> </span>solveX</a></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">solveY &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/solve.html">solve</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span>]) <span class="op">%*%</span><span class="st"> </span>xError[,<span class="dv">1</span>]) <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/t.html">t</a></span>(xError[,<span class="dv">1</span>]) <span class="op">%*%</span><span class="st"> </span>yError</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(solveY)</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">#&gt;            [,1]</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">#&gt; [1,] -0.1994193</span></a>
<a class="sourceLine" id="cb15-5" title="5">x0 &lt;-<span class="st"> </span>x[,<span class="dv">2</span><span class="op">:</span><span class="dv">11</span>]</a>
<a class="sourceLine" id="cb15-6" title="6"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">""</span>)</a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"Builting lm Function Result"</span>)</a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt; [1] "Builting lm Function Result"</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(y <span class="op">~</span><span class="st"> </span>x0)<span class="op">$</span>coefficients[<span class="dv">11</span>])</a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt;     x0carb </span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt; -0.1994193</span></a></code></pre></div>
</div>
</div>
</div>
<div id="conclusion" class="section level1">
<h1 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h1>
<p>I hope that you may fine this small package useful. It is designed to fill a narrow niche, but I hope that it fills it well.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#step-regression">Step Regression</a></li>
      <li><a href="#example-one-mtcars">Example One: mtcars</a></li>
      <li><a href="#order-and-sse">Order and SSE</a></li>
      <li><a href="#res_plotter-and-res_plotter_double">res_plotter() and res_plotter_double()</a></li>
      <li><a href="#utility">Utility</a></li>
      <li><a href="#swiss-example-res_plotter">Swiss Example &amp; res_plotter()</a></li>
      <li>
<a href="#under-the-hood-using-mtcars-dataset">Under the Hood using mtcars dataset</a><ul class="nav nav-pills nav-stacked">
<li><a href="#example-1-regress-using-all-independent-variables-at-once">EXAMPLE 1: Regress using all independent variables at once</a></li>
      <li><a href="#example-2-regress-two-variables-twice-all-but-the-last-then-the-last-variable">EXAMPLE 2: Regress two variables twice, all but the last, then the last variable</a></li>
      </ul>
</li>
      <li><a href="#conclusion">Conclusion</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Chris Pearson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
